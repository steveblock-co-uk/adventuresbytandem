<!DOCTYPE html>

<html>

  <head>

    <title>Adventures By Tandem</title>

    <style>
      body {
        background: #CCCCCC;
        font-family: Verdana, sans-serif;
        color: #444444;
      }
      a {
        color: #444444;
      }
      img.preload {
        position: absolute;
        left: -1000px;
      }
      a.image {
        position: absolute;
        display: block;
        padding: 0px;
      }
      h1 {
        text-align: center;
        margin-top: 20px;
        margin-bottom: 50px;
      }
      div#photoGroup {
        position: relative;
        width: 900px;
        height: 700px;
        margin: auto;
      }
      a.image#canada {
        background-image: url('canada-mono.jpg');
      }
      a.image#canada:hover {
        background-image: url('canada.jpg');
      }
      a.image#britain {
        background-image: url('britain-mono.jpg');
      }
      a.image#britain:hover {
        background-image: url('britain.jpg');
      }
      a.image#iceland {
        background-image: url('iceland-mono.jpg');
      }
      a.image#iceland:hover {
        background-image: url('iceland.jpg');
      }
      a.image#france {
        background-image: url('france-mono.jpg');
      }
      a.image#france:hover {
        background-image: url('france.jpg');
      }
      a.image#newzealand {
        background-image: url('newzealand-mono.jpg');
      }
      a.image#newzealand:hover {
        background-image: url('newzealand.jpg');
      }
      a.image#chile {
        background-image: url('chile-mono.jpg');
      }
      a.image#chile:hover {
        background-image: url('chile.jpg');
      }
      a.image#china {
        background-image: url('china-mono.jpg');
      }
      a.image#china:hover {
        background-image: url('china.jpg');
      }
      div#status {
        height: 30px;
        text-align: center;
        position: relative;
        top: 320px;
        font-size: large;
      }
    </style>

    <script type="text/javascript">
      function arrangeInCircle(boundingElement) {
        var width = 210;
        var height = width * 3 / 4;
        var count = boundingElement.getElementsByClassName('image').length;
        log(count)
	// Find the maximum circle diameter assuming the elements are arranged
	// synmetrically horizontally, with a gap always at the bottom.
        var leftmostIndex = Math.ceil(count / 4);  // 1-based index of leftmost element
        log(leftmostIndex);
        var topmostIndex = Math.ceil(count / 2);  // 1-based index of topmost element
        log(topmostIndex);
        var W = boundingElement.clientWidth;
        var H = boundingElement.clientHeight;
        log(W);
        log(H);
        var rFromWidth = (W - width) / (2 * Math.sin((2 * leftmostIndex - 1) * Math.PI / count));
        log(rFromWidth);
        var yLower = Math.cos(Math.PI / count);
        var yUpper = - Math.cos((2 * topmostIndex - 1) * Math.PI / count);
        var rFromHeight = (H - height) / (yLower + yUpper);
        log(rFromHeight);
        var r = Math.min(rFromWidth, rFromHeight);
        log(r);
        var yOffset = r * (yUpper - yLower) / 2;
        log(yOffset);
        for (var i = 1; i <= count; i++) {
          var element = boundingElement.getElementsByClassName('image')[i - 1];
          log(element);
          var angle = (2 * i - 1) * Math.PI / count;
          log(angle);
          element.style.left = W / 2 - r * Math.sin(angle) - width / 2 + 'px';
          element.style.top = H / 2 + r * Math.cos(angle) - height / 2 + yOffset + 'px';
          log(element.style.left);
          log(element.style.top);
          element.style.width = width + 'px';
          element.style.height = height + 'px';
          element.style.backgroundSize = width + 'px ' + height + 'px';
        }
      }
      function log(x) {
        //console.log(x);
      }
      function SetText(element, text) {
        if (typeof element.textContent == 'string') {
          element.textContent = text;
        } else if (typeof element.innerText == 'string') {
          element.innerText = text;
        }
      }
      function Display(text) {
        SetText(document.getElementById('status'), text);
      }
      function Clear() {
        SetText(document.getElementById('status'), '');
      }
    </script>

  </head>

  <body onload="arrangeInCircle(document.getElementById('photoGroup'));">
    
    <h1>Adventures By Tandem</h1>

    <div id="photoGroup">
      <div id="status"></div>
      <a class="image" id="canada" href="canada" onmouseover="Display('Canada');" onmouseout="Clear();"></a>
      <a class="image" id="britain" href="britain" onmouseover="Display('Britain');" onmouseout="Clear();"></a>
      <a class="image" id="iceland" href="iceland" onmouseover="Display('Iceland');" onmouseout="Clear();"></a>
      <a class="image" id="france" href="france" onmouseover="Display('France');" onmouseout="Clear();"></a>
      <a class="image" id="newzealand" href="newzealand" onmouseover="Display('New Zealand');" onmouseout="Clear();"></a>
      <a class="image" id="chile" href="chile" onmouseover="Display('Chile');" onmouseout="Clear();"></a>
      <a class="image" id="china" href="china" onmouseover="Display('China');" onmouseout="Clear();"></a>
    </div>

    <img class="preload" src="canada.jpg">
    <img class="preload" src="britain.jpg">
    <img class="preload" src="iceland.jpg">
    <img class="preload" src="france.jpg">
    <img class="preload" src="newzealand.jpg">
    <img class="preload" src="chile.jpg">
    <img class="preload" src="china.jpg">

  </body>

</html>
