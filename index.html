<!DOCTYPE html>

<html>

  <head>

    <title>Adventures By Tandem</title>

    <style>
      body {
        background: #CCCCCC;
        font-family: Verdana, sans-serif;
        color: #444444;
      }
      a {
        color: #444444;
      }
      a.image {
        position: absolute;
        display: block;
        padding: 0px;
      }
      a.image img {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
      }
      a.image img + img {
        visibility: hidden;
      }
      a.image + div {
        height: 30px;
        text-align: center;
        top: 320px;
        font-size: large;
        position: absolute;
        width: 100%;
        visibility: hidden;
      }
      a.image:hover img + img {
        visibility: visible;
      }
      a.image:hover + div {
        visibility: visible;
      }
      h1 {
        text-align: center;
        margin-top: 20px;
        margin-bottom: 50px;
      }
      div#photoGroup {
        position: relative;
        width: 900px;
        height: 700px;
        margin: auto;
      }
    </style>

    <script type="text/javascript">
      function arrangeInCircle(boundingElement) {
        // TODO: Put the width and height in CSS?
        var width = 210;
        var height = width * 3 / 4;
        var count = boundingElement.getElementsByClassName('image').length;
	// Find the maximum circle diameter assuming the elements are arranged
	// synmetrically horizontally, with a gap always at the bottom.
        var leftmostIndex = Math.ceil(count / 4);  // 1-based index of leftmost element
        var topmostIndex = Math.ceil(count / 2);  // 1-based index of topmost element
        var W = boundingElement.clientWidth;
        var H = boundingElement.clientHeight;
        var rFromWidth = (W - width) / (2 * Math.sin((2 * leftmostIndex - 1) * Math.PI / count));
        var yLower = Math.cos(Math.PI / count);
        var yUpper = - Math.cos((2 * topmostIndex - 1) * Math.PI / count);
        var rFromHeight = (H - height) / (yLower + yUpper);
        var r = Math.min(rFromWidth, rFromHeight);
        var yOffset = r * (yUpper - yLower) / 2;
        for (var i = 1; i <= count; i++) {
          var element = boundingElement.getElementsByClassName('image')[i - 1];
          var angle = (2 * i - 1) * Math.PI / count;
          element.style.left = W / 2 - r * Math.sin(angle) - width / 2 + 'px';
          element.style.top = H / 2 + r * Math.cos(angle) - height / 2 + yOffset + 'px';
          element.style.width = width + 'px';
          element.style.height = height + 'px';
          element.style.backgroundSize = width + 'px ' + height + 'px';
        }
      }
    </script>

  </head>

  <body onload="arrangeInCircle(document.getElementById('photoGroup'));">
    
    <h1>Adventures By Tandem</h1>

    <div id="photoGroup">
      <a class="image" id="canada" href="canada">
        <img src="canada-mono.jpg">
        <img src="canada.jpg">
      </a>
      <div>Canada '06</div>
      <a class="image" id="britain" href="britain">
        <img src="britain-mono.jpg">
        <img src="britain.jpg">
      </a>
      <div>Britain '07</div>
      <a class="image" id="iceland" href="iceland">
        <img src="iceland-mono.jpg">
        <img src="iceland.jpg">
      </a>
      <div>Iceland '08</div>
      <a class="image" id="france" href="france">
        <img src="france-mono.jpg">
        <img src="france.jpg">
      </a>
      <div>France '09</div>
      <a class="image" id="newzealand" href="newzealand">
        <img src="newzealand-mono.jpg">
        <img src="newzealand.jpg">
      </a>
      <div>New Zealand '10</div>
      <a class="image" id="chile" href="chile">
        <img src="chile-mono.jpg">
        <img src="chile.jpg">
      </a>
      <div>Chile '11</div>
      <a class="image" id="china" href="china">
        <img src="china-mono.jpg">
        <img src="china.jpg">
      </a>
      <div>China '12</div>
    </div>

  </body>

</html>
